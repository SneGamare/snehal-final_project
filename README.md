1. Introduction

This Account services API is designed to provide clients to establish secure, real time connectivity with their business. It helps to monitor account activities, account statement, balance information without the need to log in to the net banking portal. This API is particularly beneficial to integrate account data into their internal systems for real time reconciliation and decision making support.


2. Existing Solution

Problem Statement/Persistent issues:

· We do not have Capping no. of requests per day from the client. A daily cap is enforced on the number of request that a client can initiate. This restrictions limits the client ability to perform frequent data pulls, particularly during high-volumes.

· Response currently takes 2-5 mins to get delivered.

· Currently response gives maximum 1.8K transactions per API request. For Wholesale customers, this limit is not sufficient as transactions/day for some customers can exceed 22K.

· This API does not support push notifications and don’t have any provision of retrieve account statement to the clients via API.

· We do not have pagination option so that the customer can’t see more transactions

· The data of transaction is only 3 months.

· Customer can enter only From Date & To Date as statement parameters.


3. Proposed Solution and benefits

· Implement a centralized database to minimize dependency on multiple processors and enable real time data delivery to clients, thereby reducing overall latency and improving system efficiency.

· Capping no. of requests per day from the client - Currently 10 k requests, 12 req/ per minute as per IT, to be checked again by Product. It can be considered for cumulative and incremental data as requested by client.

· Response should be real time.

· This API increase in number of transaction limit of 22,000 per request.

· The solution is to offer standardized API with real time data capabilities, addressing both push and pull requirements of the customer.

· Introducing pagination option so that the customer can see more transactions to be discussed.

· The range of the transaction period is 7 to 30 days.

· This will allow to enter From Date and To Date time as input parameters in statement.

· Incremental and Consolidated data availability

· Availability of VAM fields



Flow of the Inbound Account Transaction Report end to end via API (Nomenclature to be finalized with respect to legality)


· The client will trigger an API call using the specified request parameters. The Plutus system will receive the request and return the data in the response based on the request type parameter i.e. incremental and consolidated. Client send an acknowledgement response as a yes or no and based on that Plutus system will update the request status. If fails under specific condition, Plutus will resend the data in the next API response. Plutus will store cold data for defined period days/months which is to be discussed.





· Request Parameters:-



Parameter Name/Fields Description Format Data Type Parameter Max Length Mandatory or Optional

RequestUUID

(Cust

Request ID) Generated by the client system for each request Alphanumeric- c9f5e7c2-1f7b-4e90-b2d5 String 20 M

MessageDateTime Date is in ISO format YYYY-MM-DD HH:MM:SS String 10 M

Foracid

Account Number Numeric String 20 M

From_date (From

date and Time) Start date (Date is in ISO format) YYYY-MM-DD HH:MM:SS String 10 M

To_Date (To Date

and Time) Always Current date with time ( Date is in ISO format) YYYY-MM-DD HH:MM:SS String 10 M

MOP (Mode of

Payment) By default ALL, and mode as per selection. Alpha- NEFT/RTGS/IMPS/IFT/UPI/ALL String 5 M (By default ALL, and mode as per selection.)

Tran_Type (Txn

Type) Credit ( C) /Debit (D) Flag Alphanumeric String 1 O

RequestType

(Request

Type

) Incremental (For incremental we will share data basis on “I” flag) OR Consolidated (for consolidated we will add from date & to date parameter in request ) Alpha- I or C String 1 O

Utr_No

(Transaction ID) UTR/RRN as per respective payment channels, Unique for every transaction Alphanumeric- NEFT - KKBKH25079996876 RTGS - KKBKR52025032000996901 String 50 O

Records (No.

of


Records) Start value to be 'x' Transactions, if client doesn't pass any value in request so we will pass default value max capacity (22K) Numeric-100 of 500 String 10 O

PageNo (Page

Number

) Start value to be 1 - TBD if this can be included in the current phase as it requires 2-4 weeks of additional efforts. Numeric String 5 M


Response Parameters:-


Parameter Name/Fields Description Format Data Type Parameter Max Length Mandatory or Optional

RequestUUID

(RequestUUID) Generated by the client system for each request Alphanumeric String 20 M

MessageDateTime Time of extracting the Statement YYYY-MM-DD HH:MM:SS String 10 M

RequestType

(Request Type) Incremental or Consolidated Alpha- I or C String 1 M

Tran_status Transaction Status ( Default value For Success "S" For Failed "F"). Alpha String 10 M

ErrorCode (Error

Code) For Failed “XX” values to be defined Numeric String 50 M

ErrorDesc Error

Description for Failed "XX” Values & error description to be defined Alpha- success / timeout /connection issues String 50 M

Tran_ID Unique Transaction ID Alphanumeric String 20 O

RefNum Additional Particular of Transaction, Reference Number Alphanumeric IMPS :- “IMPS-507912794195” UPI :- “UPI-003210937797” String 50 O

UTR Only for NEFT and RTGS outward transactions, UTR Number wherever applicable Alphanumeric- NEFT - KKBKH25079996876 RTGS - KKBKR52025032000996901 String 50 O

Tran_Amt

(Transaction

Amount) Always in Rupee Format upto 2 decimals 00.00 Numeric-100.00 String 10 O

Txn_cur

(transaction

Currency) Always INR INR String 3 O

MOP (Mode of

Payment) By default ALL, and mode as per selection. Alpha- NEFT/RTGS/IMPS/IFT/UPI/ALL String 5 M (By default ALL, and mode as per selection.)

Txn_Date Actual Transaction Date and Time YYYY-MM-DD HH:MM:SS String 10 O

ValueDate Value date and Time YYYY-MM-DD HH:MM:SS String 10 O

PostDate Post date and Time YYYY-MM-DD HH:MM:SS String 10 O

Tran_Type

(Transaction type) Credit ( C) /Debit (D ) Flag Alpha String 1 O

TranParticular Particular of Transaction Alphanumeric String 50 O

Txn_Rmrk This is the value against Tran ID. Alpha String 50 O

Tran_Bal Transaction Balance Numeric – 200.01 String 20 O

Other_Info1 Other additional information to be passed Alpha String 50 O

Other_Info2 Other additional information to be passed Alpha String 50 O

Other_Info3 Other additional information to be passed Alpha String 50 O

Other_Info4 Other additional information to be passed Alpha String 50 O

Other_Info5 Other additional information to be passed Alpha String 50 O

Other_Info6 Other additional information to be passed Alpha String 50 O

Other Info7 Other additional information to be passed Alpha String 50 O

Eff. Available

Balance Effective balance is the actual balance without lien Numeric – 200.01 String 20 O

OpeningBal Opening A/c Balance Numeric – 200.01 String 20 O

ClosingBal Closing A/c Balance Numeric – 200.01 String 20 O

ClearBalance Clear A/c Balance Numeric – 200.01 String 20 O

Record_Status Duplicate (D) or New (N) Record which is being sent to the client. Alpha String 1 O

Records (No. of

Records) Start value to be 'x' Transactions recorded /received from the remitter, client can request for Numeric-100 of 500 String 10 O

any number or mention all records.

PageNo (Page

Number) Start value to be 1 Numeric String 5 M





Success and Failure scenarios with remarks*

Status codes & Description should be configurable.


· Success scenario- A client sends request to the bank and the bank shares XX no. Of records on every request.

XX for success status of all XX records and the bank updates the same at their end as Y and does not send again, request ID time stamp and date to be updated and status as Y.

To be discussed, if client send request ID for each request and it’ll store in Plutus DB and from Plutus end also request ID will get generated, so how will IT take it and how will they share response and how to update it.

· Failure scenario- XX for failed status for no response within time, another request will be shared with the client with all records. IT to prepare the Acknowledgement req res, stating Y and all records received successfully.

If the required parameter are missing or request contains invalid data share response with a business failure reason & status code XX.

In case server issue or timeout error occur share response with a technical failure reason & status code XX.

· Connection Timeout Scenario –XX for connection timeout scenarios like Network issues, Server related issues etc.

· Wrong request parameter- XX for wrong field name.

· Retry attempt Scenario – XX no. Of retry attempts can be made to fetch the details, with every failed response, data to be sent again in another request’s response. Upon exhaustion of the retry attempts, data to be shared via MIS from Plutus front end by Ops team.

In Plutus Front end functionality, retry & download option to be available.

· Acknowledgement call scenario-

- Scenario 1

Ø New request received with request ID 1111, @11 am. Response is shared as N- New and N- New is updated in the Plutus system against all transactions.

- Scenario 2

Ø New request received with request ID 1112 from 10 am to 12 am, response is shared and for the transactions already sent will be updated as D-Duplicate and N for new and shared with the client as well.

- Scenario 3

Ø New request received with request ID 1111 irrespective of any criteria or any date/time range or any other requirement, it is to be out rightly rejected as duplicate request ID received.

Ø In the A/C statement the duplicate request ID should be taken up after client confirmation, since if the client shares one request ID throughout for a day hypothetically then this scenario will not hold good.


· IT team to confirm on how to maintain the request IDs with respect to audit and storage basis.

· IP addresses to be bound with the A/C no. to be made mandatory with every development, to be updated in every API.


Explanation of working on Inbound API Acknowledgement Feature:


Acknowledgement from the client for A/C statement Transaction Report to work as below.


Request received at the bank from the client ---------->Request Received

Bank send Ack to the client <--------- Ack Sent

API Response sent to the client by the bank <---------- Response processed and sent

Acknowledgement receipt shared by the client to the bank -------> Ack Received


Client to Bank


Parameter Name/Fields Description Format Data Type Parameter Max Length

Request ID Customer system generated ID c9f5e7c2-1f7b-4e90-b2d5-abc123456gf String 40

Status Code Receipt of request from the client 100 Numeric 5

Status Description Successful Confirmation of request received by the bank "Request received" String 30



Bank to client + client to bank

Response Parameter Name/Fields Description Format Data Type Parameter Max Length

Request ID Customer system generated ID c9f5e7c2-1f7b-4e90-b2d5-abc123456gf String 40

Status Code Bank has sent acknowledgment to the client 200 Numeric 5

Status Description Message confirming that acknowledgment has sent to the client "Bank acknowledgment sent" String 30

Status Code Indicate that client has acknowledged receiving the bank response 102 Numeric 5

Status Description Confirmation of final receipt of response from client sie "ACK received" String 30




Status description at each stage of the interaction between client and bank via API:

ü Request received at the bank from the client

· Request ID : c9f5e7c2-1f7b-4e90-b2d5-abc123456gf

· Status Code : 100

· Status Description: Request received


ü Bank send acknowledgement to the client

· Request ID : Same i.e., c9f5e7c2-1f7b-4e90-b2d5-abc123456gf

· Status Code : 202

· Status Description : Bank Acknowledgment Sent


ü API Response sent to the client by the bank

· Request ID : Same i.e., c9f5e7c2-1f7b-4e90-b2d5-abc123456gf

· Status Code : 200

· Status Description: Response processed & sent.


ü Acknowledgement receipt shared by the client to the bank

· Request ID : Same i.e., c9f5e7c2-1f7b-4e90-b2d5-abc123456gf

· Status Code : 102

· Status Description: Client Acknowledgement received



Success, Failure & Duplicate Scenario of Account Transaction Report API :



A/c Transaction report Scenario Action Acknowledgment status A/c Transaction Report status updated at Plutus DB status and description Status Code

Success API Validates, stores and acknowledges the report Sent Yes acknowledgment received 200

Failure API reject the request Rejected Bad request, missing required parameter 400

Failure API return unauthorized Rejected Unauthorized, missing or expired bearer token 401

Failure API returns unprocessable entity Failed Failed Validation, Invalid details pass in parameter field value 422

Failure API return too many request Rejected Throttled, request limit exceeded no acknowledgment 429

Duplicate API return duplicate Rejected Duplicate, the duplicate request id submitted 409

Pending/Failure API return gateway timeout Failed Timeout and sever error, database or processing engine is down 500/ 504







Data sharing parameters-


· TAT- confirmation of request received and acknowledgment needs to be shared with the clients within XX minutes under real time data sharing scenario.

· The number of records shared in one response is configurable. The system has a defined upper limit of 22,000 records per response for each request ID. If the total number of records exceeds this limit like 23,000 records, the system will return the first 22,000 records in the initial response. Regardless of the client’s requested count, the system determines how many records to return and tracks the remaining count. Upon subsequent requests, the system will

return the remaining records. For the final batch, it will indicate 23,000 of 23,000 to confirm completion. If the client continues to request additional records after all have been delivered, response to be shared as Null records.

· A callback facility is available to notify the client of data delivery and acknowledgement status.

· The pagination with a configurable maximum number of pages per request to enable efficient data retrieval and prevent excessive load on both client and server systems.

· To be discussed, setup two API one is incremental with old parameters (source app code/client name, request id, request type) & second is incremental with advance filter criteria here they have to pass all the request header parameters.

· How Ack API work in both the above two setup of two API

· Incremental data flag require

· Reference ID’s and status

· Audit l
